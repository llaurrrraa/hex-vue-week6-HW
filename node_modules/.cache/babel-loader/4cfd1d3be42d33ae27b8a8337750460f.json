{"remainingRequest":"/Users/xxxlauraxi/Documents/GitHub/week7-HW/node_modules/babel-loader/lib/index.js!/Users/xxxlauraxi/Documents/GitHub/week7-HW/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xxxlauraxi/Documents/GitHub/week7-HW/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xxxlauraxi/Documents/GitHub/week7-HW/week7_HW/src/views/Products.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/xxxlauraxi/Documents/GitHub/week7-HW/week7_HW/src/views/Products.vue","mtime":1646724095006},{"path":"/Users/xxxlauraxi/Documents/GitHub/week7-HW/week7_HW/babel.config.js","mtime":1646724094988},{"path":"/Users/xxxlauraxi/Documents/GitHub/week7-HW/node_modules/cache-loader/dist/cjs.js","mtime":1641697440268},{"path":"/Users/xxxlauraxi/Documents/GitHub/week7-HW/node_modules/babel-loader/lib/index.js","mtime":1641697440288},{"path":"/Users/xxxlauraxi/Documents/GitHub/week7-HW/node_modules/cache-loader/dist/cjs.js","mtime":1641697440268},{"path":"/Users/xxxlauraxi/Documents/GitHub/week7-HW/node_modules/vue-loader-v16/dist/index.js","mtime":1641697461808}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IENhdGVnb3J5TGlzdCBmcm9tICJAL2NvbXBvbmVudHMvQ2F0ZWdvcnlMaXN0LnZ1ZSI7CmltcG9ydCB7IFNob3BwaW5nQmFnSWNvbiB9IGZyb20gIkBoZXJvaWNvbnMvdnVlL291dGxpbmUiOwppbXBvcnQgZW1pdHRlciBmcm9tICJAL2xpYnJhcmllcy9lbWl0dC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdHM6IFtdLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBpc0xvYWRpbmdJdGVtOiAiIgogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENhdGVnb3J5TGlzdDogQ2F0ZWdvcnlMaXN0LAogICAgU2hvcHBpbmdCYWdJY29uOiBTaG9wcGluZ0JhZ0ljb24KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFByb2R1Y3RzOiBmdW5jdGlvbiBnZXRQcm9kdWN0cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kaHR0cC5nZXQoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMLCAiL3YyL2FwaS8iKS5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfUEFUSCwgIi9wcm9kdWN0cy9hbGwiKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpcy5wcm9kdWN0cyA9IHJlcy5kYXRhLnByb2R1Y3RzOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBxdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHByb2R1Y3RfaWQ6IGlkLAogICAgICAgIHF0eTogcXR5CiAgICAgIH07CiAgICAgIHRoaXMuaXNMb2FkaW5nSXRlbSA9IGlkOwogICAgICB0aGlzLiRodHRwLnBvc3QoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMLCAiL3YyL2FwaS8iKS5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfUEFUSCwgIi9jYXJ0IiksIHsKICAgICAgICBkYXRhOiBkYXRhCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMyLmlzTG9hZGluZ0l0ZW0gPSAiIjsKICAgICAgICBlbWl0dGVyLmVtaXQoImdldENhcnQiKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRQcm9kdWN0cygpOwogIH0KfTs="},{"version":3,"mappings":";AA0DA,OAAOA,YAAP,MAAyB,+BAAzB;AACA,SAASC,eAAT,QAAgC,wBAAhC;AACA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,eAAe;AACbC,MADa,kBACN;AACL,WAAO;AACLC,cAAQ,EAAE,EADL;AAELC,eAAS,EAAE,KAFN;AAGLC,mBAAa,EAAE;AAHV,KAAP;AAKD,GAPY;AAQbC,YAAU,EAAE;AACVP,gBAAY,EAAZA,YADU;AAEVC,mBAAe,EAAfA;AAFU,GARC;AAYbO,SAAO,EAAE;AACPC,eADO,yBACO;AAAA;;AACZ,WAAKJ,SAAL,GAAiB,IAAjB;AACA,WAAKK,KAAL,CACGC,GADH,WAEOC,OAAO,CAACC,GAAR,CAAYC,WAFnB,qBAEyCF,OAAO,CAACC,GAAR,CAAYE,gBAFrD,oBAIGC,IAJH,CAIQ,UAACC,GAAD,EAAS;AACbC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,aAAI,CAACZ,SAAL,GAAiB,KAAjB;AACA,aAAI,CAACD,QAAL,GAAgBa,GAAG,CAACd,IAAJ,CAASC,QAAzB;AACD,OARH;AASD,KAZM;AAaPgB,aAbO,qBAaGC,EAbH,EAagB;AAAA;;AAAA,UAATC,GAAS,uEAAH,CAAG;AACrB,UAAMnB,IAAG,GAAI;AACXoB,kBAAU,EAAEF,EADD;AAEXC,WAAG,EAAEA;AAFM,OAAb;AAIA,WAAKhB,aAAL,GAAqBe,EAArB;AACA,WAAKX,KAAL,CACGc,IADH,WAEOZ,OAAO,CAACC,GAAR,CAAYC,WAFnB,qBAEyCF,OAAO,CAACC,GAAR,CAAYE,gBAFrD,YAGI;AAAEZ,YAAG,EAAHA;AAAF,OAHJ,EAKGa,IALH,CAKQ,UAACC,GAAD,EAAS;AACbC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,cAAI,CAACX,aAAL,GAAqB,EAArB;AACAJ,eAAO,CAACuB,IAAR,CAAa,SAAb;AACD,OATH;AAUD;AA7BM,GAZI;AA2CbC,SA3Ca,qBA2CH;AACR,SAAKjB,WAAL;AACD;AA7CY,CAAf","names":["CategoryList","ShoppingBagIcon","emitter","data","products","isLoading","isLoadingItem","components","methods","getProducts","$http","get","process","env","VUE_APP_URL","VUE_APP_API_PATH","then","res","console","log","addToCart","id","qty","product_id","post","emit","mounted"],"sourceRoot":"","sources":["/Users/xxxlauraxi/Documents/GitHub/week7-HW/week7_HW/src/views/Products.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <div class=\"row\">\n      <aside class=\"col-md-2 aside me-1\">\n        <CategoryList></CategoryList>\n      </aside>\n      <main class=\"col main\">\n        <h6>所有產品</h6>\n        <hr />\n        <div class=\"cards row row-cols-2 row-cols-lg-4\">\n          <div class=\"col my-3\" v-for=\"item in products\" :key=\"item.id\">\n            <div class=\"card h-260\">\n              <div class=\"card-body\">\n                <router-link :to=\"`/product/${item.id}`\" class=\"router-link\">\n                  <img\n                    :src=\"item.imageUrl\"\n                    class=\"card-img-top\"\n                    :alt=\"`${item.title}` + `Image`\"\n                  />\n                  <div class=\"first-line mt-3 mb-2\">\n                    <p class=\"card-title\">{{ item.title }}</p>\n                    <p class=\"card-price\">\n                      $ {{ item.price }} <span>/ {{ item.unit }}</span>\n                    </p>\n                  </div>\n                  <p class=\"card-text\">\n                    {{ item.description }}<del>$ {{ item.origin_price }}</del>\n                  </p>\n                </router-link>\n              </div>\n              <div class=\"card-footer\">\n                <div class=\"wrapper\">\n                  <span class=\"minus\">－</span>\n                  <span class=\"num\">01</span>\n                  <span class=\"plus\">＋</span>\n                </div>\n\n                <button class=\"btn\" type=\"button\" @click=\"addToCart(item.id)\">\n                  <ShoppingBagIcon class=\"shoppingbag-icon h-5 w-5\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  </div>\n  <loading v-model:active=\"isLoading\">\n    <div class=\"loadingio-spinner-dual-ball-3b20qdmagcy\">\n      <div class=\"ldio-ye7pm4xc68n\">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  </loading>\n</template>\n<script>\nimport CategoryList from \"@/components/CategoryList.vue\";\nimport { ShoppingBagIcon } from \"@heroicons/vue/outline\";\nimport emitter from \"@/libraries/emitt.js\";\n\nexport default {\n  data() {\n    return {\n      products: [],\n      isLoading: false,\n      isLoadingItem: \"\",\n    };\n  },\n  components: {\n    CategoryList,\n    ShoppingBagIcon,\n  },\n  methods: {\n    getProducts() {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_URL}/v2/api/${process.env.VUE_APP_API_PATH}/products/all`\n        )\n        .then((res) => {\n          console.log(res);\n          this.isLoading = false;\n          this.products = res.data.products;\n        });\n    },\n    addToCart(id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty: qty,\n      };\n      this.isLoadingItem = id;\n      this.$http\n        .post(\n          `${process.env.VUE_APP_URL}/v2/api/${process.env.VUE_APP_API_PATH}/cart`,\n          { data }\n        )\n        .then((res) => {\n          console.log(res);\n          this.isLoadingItem = \"\";\n          emitter.emit(\"getCart\");\n        });\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@keyframes ldio-ye7pm4xc68n-o {\n  0% {\n    opacity: 1;\n    transform: translate(0 0);\n  }\n  49.99% {\n    opacity: 1;\n    transform: translate(80px, 0);\n  }\n  50% {\n    opacity: 0;\n    transform: translate(80px, 0);\n  }\n  100% {\n    opacity: 0;\n    transform: translate(0, 0);\n  }\n}\n@keyframes ldio-ye7pm4xc68n {\n  0% {\n    transform: translate(0, 0);\n  }\n  50% {\n    transform: translate(80px, 0);\n  }\n  100% {\n    transform: translate(0, 0);\n  }\n}\n.ldio-ye7pm4xc68n div {\n  position: absolute;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  top: 100px;\n  left: 20px;\n}\n.ldio-ye7pm4xc68n div:nth-child(1) {\n  background: #00ffbb;\n  animation: ldio-ye7pm4xc68n 0.9615384615384615s linear infinite;\n  animation-delay: -0.4807692307692307s;\n}\n.ldio-ye7pm4xc68n div:nth-child(2) {\n  background: #005dff;\n  animation: ldio-ye7pm4xc68n 0.9615384615384615s linear infinite;\n  animation-delay: 0s;\n}\n.ldio-ye7pm4xc68n div:nth-child(3) {\n  background: #00ffbb;\n  animation: ldio-ye7pm4xc68n-o 0.9615384615384615s linear infinite;\n  animation-delay: -0.4807692307692307s;\n}\n.loadingio-spinner-dual-ball-3b20qdmagcy {\n  width: 180px;\n  height: 180px;\n  display: inline-block;\n  overflow: hidden;\n}\n.ldio-ye7pm4xc68n {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transform: translateZ(0) scale(1);\n  backface-visibility: hidden;\n  transform-origin: 0 0; /* see note above */\n}\n.ldio-ye7pm4xc68n div {\n  box-sizing: content-box;\n}\n/* generated by https://loading.io/ */\n* {\n  // border: 1px solid #000000;\n  .container {\n    .row {\n      .main {\n        h6 {\n          // font-weight: 700;\n          margin-left: 1rem;\n          letter-spacing: 1.5px;\n          color: #9c9c9c;\n        }\n        .cards {\n          .card {\n            border: none;\n            box-shadow: 2px 2px 15px 1px rgba(240, 240, 240, 1);\n            border-radius: 10px;\n            min-height: 280px;\n          }\n          .card:hover {\n            transform: scale(1.1, 1.1);\n            transition-duration: 0.5s;\n            box-shadow: 2px 2px 15px 1px rgba(134, 134, 134, 0.3);\n          }\n          .card-body {\n            padding-bottom: 0rem;\n            img {\n              height: 140px;\n              object-fit: cover;\n            }\n            .first-line {\n              .card-title {\n                display: inline;\n                font-size: 1.1rem;\n                font-weight: 700;\n                letter-spacing: 1.2px;\n              }\n              .card-price {\n                display: inline;\n                float: right;\n                background-color: #65ffbf;\n                color: #0544f3;\n                border-radius: 5px;\n                padding: 0 5px;\n                margin-bottom: 0;\n                font-size: 1rem;\n                span {\n                  font-size: 0.7rem;\n                }\n              }\n            }\n            .card-text {\n              font-size: 0.9rem;\n              letter-spacing: 1px;\n              color: #8c8c8c;\n              font-weight: 300;\n              margin-bottom: 0.5rem;\n              del {\n                float: right;\n                font-weight: 300;\n              }\n            }\n            .router-link {\n              color: #000;\n            }\n            .router-link:hover {\n              color: #000000;\n            }\n          }\n          .card-footer {\n            display: flex;\n            justify-content: space-between;\n            border-top: none;\n            background-color: #fff;\n            border-radius: 10px;\n            padding: 0.5rem 1rem 1rem;\n            .wrapper {\n              height: 40px;\n              min-width: 100px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              background: #fff;\n              border-radius: 12px;\n              border: 1px solid rgba(134, 134, 134, 0.3);\n              // box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\n              span {\n                width: 100%;\n                text-align: center;\n                font-size: 1rem;\n                font-weight: 600;\n                cursor: pointer;\n                user-select: none;\n              }\n              span.num {\n                border-right: 2px solid rgba(0, 0, 0, 0.2);\n                border-left: 2px solid rgba(0, 0, 0, 0.2);\n                pointer-events: none;\n              }\n            }\n            .btn {\n              background-color: #0544f3;\n              border-radius: 50%;\n              width: 40px;\n              height: 40px;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              padding: 0;\n              .shoppingbag-icon {\n                color: #65ffbf;\n                width: 23px;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n@media (max-width: 767.98px) {\n  .card-body {\n    padding: 0.5rem;\n    img {\n      max-height: 100px !important;\n      object-fit: cover;\n    }\n    .first-line {\n      .card-title {\n        display: block;\n      }\n      .card-price {\n        display: block !important;\n        float: none !important;\n      }\n    }\n    .card-text {\n      font-size: 0.7rem !important;\n    }\n  }\n  .card-footer {\n    padding: 0 0.5rem 1.5rem !important;\n  }\n}\n</style>\n"]}]}